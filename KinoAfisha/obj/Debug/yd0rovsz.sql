DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'Market.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202111161818311_Init'
BEGIN
    CREATE TABLE [dbo].[Kinoes] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max) NOT NULL,
        [Price] [decimal](18, 2) NOT NULL,
        [NumberOfBilets] [int] NOT NULL,
        [Place] [nvarchar](max) NOT NULL,
        [NextArrivalDate] [datetime] NOT NULL,
        [CreateAt] [datetime] NOT NULL,
        CONSTRAINT [PK_dbo.Kinoes] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202111161818311_Init', N'Market.Migrations.Configuration',  0x1F8B0800000000000400CD58DB8EDB36107D2FD07F10F4D4021B732F2FE9424EE0DABBC522F1DA889CBCD3D2C826C28B4A5286FD6D79E827F5173AB4EEF27D3758140B2C2472E6F0CC907338F2BF3FFE093EAE05F756A00D53B2EFDFF4AE7D0F64A46226177D3FB3C9BBF7FEC70FBFFE123CC462ED7D2BEDEE9C1D7A4AD3F797D6A6F784986809829A9E6091564625B617294168ACC8EDF5F51FE4E6860042F888E579C1974C5A2660FB82AF432523486D46F958C5C04D318E33E116D57BA6024C4A23E8FB9F985483849925EDE5C6BE37E08C22911078E27B544A65A9459AF75F0D84562BB908531CA07CB64901ED12CA0D14F4EF6BF37323B9BE759190DAB1848A326395B810F0E6AE480DE9BABF28C17E953A4CDE0326D96E5CD4DB04E6B9F3BDEE42F743AE9DD19EDCF6DCC89537A6FA3BD8AB6AFFF198B8BF2B6F98719B69E84BC8ACA6FCCA9B6673CEA24FB099A9EF20FB32E3BC490949E15C6B0087A65AA5A0EDE60B2405D1A7D8F748DB8F741D2BB7864F1EC693B477B7BEF78C8BD339876AC71B21875669F80B24686A219E526B414B8701DB9CEDACDE59CBFD2F57C32386C5E26392D69F412EECB2EFE3A3EF3DB235C4E548C1E0AB64585BE86475067B181E5F75AA59542D3B828809CA7D6FAAF1A928DFF7BE1746D401EE8BFF444C9998839E246ECBCDA9541E871A2AAC6FBD79FB0C3DC3DA0EB4662BCA47B8B155AEF079C6C4E578430DE83AB0170205A42EBDDD8244B5B394E1D16B54655E756E0623D853A2286545959A22356DDE397208B681899B58D3C8E5B1972BC03EAE15AB5A7C49AEBEA54A9303321D8C699AE2063764BB18F1C25CB387EFC2CBD54CE41824327B44AD625BAD84054D17D0997547318647A68DC5ADA373EA766A188B1DB3DD3D3890DF72BD669ABB7A5667BDB476CFDDCD6E4A6C17A24EE12346255094B6014245A3D0F21DB7ED954939D57BC471A87826E421813DE69DCB5DD33F1F391FA190AE26443174018BB640B5E8B4A7CEC7AC94AA89560D5EC0AD2B3C2D76DDC90BF85502D422588DEE2205A47372BAA793EC1CCFCE45DB3DEBC7C4A26B52AD5E8946471C82A2504F377A3B959B9BB80B4FAD58ECAA36DC180BA2E70C7AE1DF7CC819C65B1B8CA96409189BF7223E365BB79D66F1FFD3B81163627E46F7F6E6CD1473193DD92E5D7A4F37FA27B9A23A5A52FD9BA0EBDF5FD713C56FD2136D33F2BA8EE875311FE872627CB63FA3CB3913E8B22E67F7223EDDC11C6C60722940A6737C99E50CDD0C98173737BBBA1490E6676A3002C3163584FB689510B982AF414B9B2799A832C91852935169D2D98331588A79A7036D5942238BD31118B3ED9BBF519EA1C9039EC5F8494E329B6676600C88396F5D520139BEFEB6836B730E26A97B333F2304A4C9DCD199C83F33C6E38AF7E39EA37300C21D92426690157E3720DC6253213D2B79265091BE11A4209D48CD40A41CC1CC448674052FE1862DF86758D068535E2F87414E6F443BEDC188D185A6C21418B5BFFBE985B8DF5E3EFC074B108E16AD110000 , N'6.4.4')
END

